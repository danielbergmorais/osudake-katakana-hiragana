"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9288],{9288:(E,g,l)=>{l.r(g),l.d(g,{DoublePageModule:()=>k});var d=l(2200),b=l(4341),h=l(7343),f=l(8132),m=l(467),C=l(3210),e=l(3664),p=l(2615),v=l(2122),q=l(2551),x=l(1554),S=l(2540);function G(c,t){if(1&c){const i=e.RV6();e.j41(0,"div",11),e.nI1(1,"async"),e.bIt("click",function(){const r=p.eBV(i).$implicit,s=e.XpG(3);return p.Njj(s.click(r.char))}),e.k0s()}if(2&c){const i=t.$implicit,o=e.XpG(3);e.Aen(e.ai1("background-image: url('assets/",e.bMT(1,13,o.type$),"/glyphs/",i.char,".png');")),e.xc7("top",i.top,"%")("left",i.left,"%"),e.AVh("success",o.selected.includes(i.char))("error",o.selectedError.includes(i.char)),e.Y8G("ngClass",i.color)}}function P(c,t){if(1&c&&(e.qex(0),e.DNE(1,G,2,15,"div",10),e.bVm()),2&c){const i=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",i)}}function y(c,t){if(1&c&&(e.j41(0,"div"),e.DNE(1,P,2,1,"ng-container",9),e.k0s()),2&c){const i=t.index,o=e.XpG();e.R7$(),e.Y8G("ngIf",i==o.step-1)}}function F(c,t){if(1&c&&(e.j41(0,"h1",12),e.EFF(1),e.k0s()),2&c){const i=e.XpG();e.R7$(),e.JRh(i.romanji)}}const O=[{path:"",component:(()=>{var c;class t{constructor(o,r,s,n){this.router=o,this.helpers=r,this.typeState=s,this.toastController=n,this.selected=[],this.selectedError=[],this.gameOver=!1,this.progressoClique=0,this.options=[],this.selectedRed=[],this.selectedBlue=[],this.cardsPerStep=[],this.sequences=[],this.sequenceCorrect=[],this.sequenceIndex=0,this.sequencesFinishedsInActualStep=0,this.TOTAL_ETAPAS=5,this.step=1,this.romanji="",this.simpleGrid=[[{char:"\u3046",color:"red",row:2,col:1},{char:"\u3042",color:"red",row:3,col:2},{char:"\u3048",color:"red",row:2,col:3},{char:"\u304a",color:"red",row:4,col:1},{char:"\u3044",color:"red",row:4,col:3}],[{char:"\u3051",color:"blue",row:3,col:1},{char:"\u304b",color:"blue",row:5,col:1},{char:"\u304f",color:"blue",row:4,col:3},{char:"\u304d",color:"blue",row:2,col:2},{char:"\u3053",color:"blue",row:6,col:2}],[{char:"\u3046",color:"red",row:3,col:1},{char:"\u304a",color:"red",row:2,col:2},{char:"\u3044",color:"red",row:4,col:2},{char:"\u3042",color:"red",row:5,col:3},{char:"\u3048",color:"red",row:3,col:3}],[{char:"\u3046",color:"red",row:1,col:2},{char:"\u304a",color:"red",row:3,col:3},{char:"\u3044",color:"red",row:3,col:1},{char:"\u3042",color:"red",row:3,col:2},{char:"\u3048",color:"red",row:5,col:2}],[{char:"\u3046",color:"red",row:2,col:3},{char:"\u304a",color:"red",row:2,col:1},{char:"\u3044",color:"red",row:3,col:2},{char:"\u3048",color:"red",row:5,col:2},{char:"\u3042",color:"red",row:4,col:1}]],this.doubleGrid=[[{char:"\u3046",color:"red",row:2,col:1},{char:"\u3048",color:"red",row:2,col:3},{char:"\u3042",color:"red",row:3,col:2},{char:"\u304a",color:"red",row:4,col:1},{char:"\u3044",color:"red",row:7,col:2},{char:"\u3053",color:"blue",row:1,col:2},{char:"\u3051",color:"blue",row:6,col:3},{char:"\u304b",color:"blue",row:4,col:3},{char:"\u304f",color:"blue",row:6,col:1},{char:"\u304d",color:"blue",row:5,col:2}],[{char:"\u3051",color:"blue",row:3,col:1},{char:"\u304b",color:"blue",row:5,col:1},{char:"\u3053",color:"blue",row:6,col:2},{char:"\u304d",color:"blue",row:2,col:2},{char:"\u304f",color:"blue",row:3,col:3},{char:"\u3046",color:"red",row:1,col:1},{char:"\u3042",color:"red",row:7,col:1},{char:"\u3048",color:"red",row:4,col:2},{char:"\u3044",color:"red",row:1,col:3},{char:"\u304a",color:"red",row:5,col:3}],[{char:"\u3046",color:"red",row:1,col:1},{char:"\u304a",color:"red",row:2,col:2},{char:"\u3044",color:"red",row:4,col:2},{char:"\u3042",color:"red",row:5,col:3},{char:"\u3048",color:"red",row:3,col:3},{char:"\u3053",color:"blue",row:3,col:1},{char:"\u3051",color:"blue",row:6,col:1},{char:"\u304b",color:"blue",row:6,col:2},{char:"\u304d",color:"blue",row:1,col:3},{char:"\u304f",color:"blue",row:7,col:3}],[{char:"\u3053",color:"blue",row:1,col:1},{char:"\u3051",color:"blue",row:6,col:1},{char:"\u304b",color:"blue",row:1,col:2},{char:"\u304d",color:"blue",row:7,col:2},{char:"\u304f",color:"blue",row:2,col:3},{char:"\u3046",color:"red",row:4,col:1},{char:"\u304a",color:"red",row:3,col:2},{char:"\u3048",color:"red",row:5,col:2},{char:"\u3044",color:"red",row:4,col:3},{char:"\u3042",color:"red",row:7,col:3}],[{char:"\u3044",color:"red",row:3,col:1},{char:"\u3046",color:"red",row:7,col:3},{char:"\u304a",color:"red",row:1,col:2},{char:"\u3048",color:"red",row:6,col:2},{char:"\u3042",color:"red",row:7,col:1},{char:"\u304d",color:"blue",row:4,col:2},{char:"\u3053",color:"blue",row:2,col:3},{char:"\u3051",color:"blue",row:5,col:3},{char:"\u304b",color:"blue",row:1,col:1},{char:"\u304f",color:"blue",row:5,col:1}]],this.type$=this.typeState.type$}ngOnInit(){this.loadOptions(),this.selectedRed.length&&!this.selectedBlue.length?(this.prepareRedGrid(),this.begin(!0)):(this.prepareGrid(),this.begin(!1))}loadOptions(){const o=localStorage.getItem("options");if(!o)return;this.options=JSON.parse(o);const r=this.options.map(s=>C.S.find(n=>n[0]===s)).filter(s=>!!s);this.selectedRed=r[0]??[],this.selectedBlue=r[1]??[]}prepareRedGrid(){if(!this.selectedRed.length)return;const o=[...this.selectedRed].sort(()=>Math.random()-.5);this.cardsPerStep=[],this.simpleGrid.forEach((r,s)=>{const n=r.slice(0,o.length).map((u,a)=>({...u,char:o[a]}));this.cardsPerStep[s]=this.generateLayout(n,7,3)})}prepareGrid(){if(!this.selectedRed.length&&!this.selectedBlue.length)return;const o=[...this.selectedRed,...this.selectedBlue].sort(()=>Math.random()-.5);this.cardsPerStep=[],this.doubleGrid.forEach((r,s)=>{const n=r.slice(0,o.length).map((u,a)=>{const w=o[a];return{...u,char:w,color:this.selectedRed.includes(w)?"red":"blue"}});this.cardsPerStep[s]=this.generateLayout(n,7,3),this.doubleGrid[s].splice(0,this.doubleGrid[s].length,...n)})}generateLayout(o,r,s){const n=100/(r+1),u=100/(s+1);return o.map(a=>({char:a.char,color:a.color,top:Math.round(n*a.row),left:Math.round(u*a.col)}))}begin(o=!1){this.sequences=[],o?this.sequences.push(this.selectedRed):(this.sequences.push(this.selectedRed),this.sequences.push(this.selectedBlue)),this.sequenceIndex=0,this.sequenceCorrect=this.sequences[0],this.progressoClique=0,this.sequencesFinishedsInActualStep=0,this.romanji=this.sequenceCorrect[this.progressoClique]}click(o){this.gameOver||(this.helpers.play(o),o===this.sequenceCorrect[this.progressoClique]?(this.isCorrect(o),this.romanji=this.sequenceCorrect[this.progressoClique]):this.isWrong(o))}isCorrect(o){this.selectedError=[],this.progressoClique++,this.selected.includes(o)||this.selected.push(o),this.selectedError=this.selectedError.filter(r=>r!==o),this.sequenceIsComplete()&&this.nextSequence()}isWrong(o){!this.selected.includes(o)&&!this.selectedError.includes(o)&&this.selectedError.push(o)}sequenceIsComplete(){return this.progressoClique===this.sequenceCorrect.length}nextSequence(){this.sequencesFinishedsInActualStep++,this.isAllSequenceFinisheds()?this.finishingStep():(this.progressoClique=0,this.sequenceIndex=(this.sequenceIndex+1)%this.sequences.length,this.sequenceCorrect=this.sequences[this.sequenceIndex])}isAllSequenceFinisheds(){return this.sequencesFinishedsInActualStep===this.sequences.length}finishingStep(){this.step!==this.TOTAL_ETAPAS?(this.step++,this.resetSteps(),this.resetControlSequence()):this.finishingGame()}resetSteps(){this.selected=[],this.selectedError=[]}resetControlSequence(){this.sequencesFinishedsInActualStep=0,this.progressoClique=0,this.sequenceIndex=0,this.sequenceCorrect=this.sequences[0]}finishingGame(){var o=this;return(0,m.A)(function*(){o.gameOver=!0,yield(yield o.toastController.create({message:'\n        <div class="toast-success">\n          <div class="text">\n            <div class="title">Bom trabalho! Voc\xea conseguiu!</div>\n            <div class="jp">\u3088\u304f\u3067\u304d\u307e\u3057\u305f! </div>\n            <div class="jp">\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059</div>\n          </div>\n        </div>\n      ',icon:"checkmark-circle",duration:5e3,position:"bottom",color:"success",cssClass:"success-toast"})).present(),o.router.navigate(["/lesson"])})()}static#e=c=()=>(this.\u0275fac=function(r){return new(r||t)(e.rXU(v.Ix),e.rXU(q.V),e.rXU(x.L),e.rXU(S.K_))},this.\u0275cmp=e.VBU({type:t,selectors:[["app-double"]],standalone:!1,decls:14,vars:4,consts:[[3,"translucent"],["slot","start"],["defaultHref","/tabs/home"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"container"],[4,"ngFor","ngForOf"],["class","helps",4,"ngIf"],[4,"ngIf"],["class","osu",3,"ngClass","top","success","error","left","style","click",4,"ngFor","ngForOf"],[1,"osu",3,"click","ngClass"],[1,"helps"]],template:function(r,s){1&r&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-back-button",2),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Osudake"),e.k0s()()(),e.j41(6,"ion-content",3)(7,"ion-header",4)(8,"ion-toolbar")(9,"ion-title",5),e.EFF(10,"Osudake"),e.k0s()()(),e.j41(11,"div",6),e.DNE(12,y,2,1,"div",7),e.k0s(),e.DNE(13,F,2,1,"h1",8),e.k0s()),2&r&&(e.Y8G("translucent",!0),e.R7$(6),e.Y8G("fullscreen",!0),e.R7$(6),e.Y8G("ngForOf",s.cardsPerStep),e.R7$(),e.Y8G("ngIf",s.selectedError.length>1))},dependencies:[d.YU,d.Sq,d.bT,h.QW,h.W9,h.eU,h.BC,h.ai,h.el,d.Jj],styles:[".container[_ngcontent-%COMP%]{position:relative;max-width:400px;width:100%;aspect-ratio:.8;margin:auto}.card[_ngcontent-%COMP%]{position:absolute;width:12vw;max-width:60px;aspect-ratio:1/1;font-size:42px;min-inline-size:32px;display:flex;justify-content:center;align-items:center;font-weight:700;background:#fff;border-radius:4px;-webkit-user-select:none;user-select:none;box-sizing:border-box;cursor:default;color:#000;transform:translate(-50%,-50%)}.red[_ngcontent-%COMP%]{border:3px solid #FFA500!important}.blue[_ngcontent-%COMP%]{border:3px solid #9463f0!important}.osu[_ngcontent-%COMP%]{width:80px;height:80px;cursor:pointer;background-repeat:no-repeat;background-size:cover;background-position:50% 0%;border:4px grey solid;background-color:#fff;background-size:140%;border-radius:20px;position:absolute;transform:translate(-50%,-50%)}.osu.success[_ngcontent-%COMP%]{border:4px #2dd55b solid!important}.osu.error[_ngcontent-%COMP%]{border:4px #f24c58 solid!important}.helps[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center}"]}))}return c(),t})()}];let I=(()=>{var c;class t{static#e=c=()=>(this.\u0275fac=function(r){return new(r||t)},this.\u0275mod=e.$C({type:t}),this.\u0275inj=p.G2t({imports:[f.iI.forChild(O),f.iI]}))}return c(),t})(),k=(()=>{var c;class t{static#e=c=()=>(this.\u0275fac=function(r){return new(r||t)},this.\u0275mod=e.$C({type:t}),this.\u0275inj=p.G2t({imports:[d.MD,b.YN,h.bv,I]}))}return c(),t})()}}]);