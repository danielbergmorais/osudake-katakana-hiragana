"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7101],{7101:(z,m,a)=>{a.r(m),a.d(m,{LessonPageModule:()=>$});var h=a(2200),k=a(4341),p=a(7343),d=a(8132),f=a(467);const y={ao:{glyphs:["a","o"],romanji:"ao",portuguese:"azul"},ie:{glyphs:["i","e"],romanji:"ie",portuguese:"casa"},aka:{glyphs:["a","ka"],romanji:"aka",portuguese:"vermelho"},ame:{glyphs:["a","me"],romanji:"ame",portuguese:"chuva"},eki:{glyphs:["e","ki"],romanji:"eki",portuguese:"esta\xe7\xe3o"},imo:{glyphs:["i","mo"],romanji:"imo",portuguese:"batata"},umi:{glyphs:["u","mi"],romanji:"umi",portuguese:"mar"},hifu:{glyphs:["hi","fu"],romanji:"hifu",portuguese:"pele"},kaki:{glyphs:["ka","ki"],romanji:"kaki",portuguese:"ostra"},kaku:{glyphs:["ka","ku"],romanji:"kaku",portuguese:"escrever"},kao:{glyphs:["ka","o"],romanji:"kao",portuguese:"rosto"},kasa:{glyphs:["ka","sa"],romanji:"kasa",portuguese:"guarda-chuva"},kiku:{glyphs:["ki","ku"],romanji:"kiku",portuguese:"cris\xe2ntemo"},kisu:{glyphs:["ki","su"],romanji:"kisu",portuguese:"beijo"},koe:{glyphs:["ko","e"],romanji:"koe",portuguese:"voz"},koke:{glyphs:["ko","ke"],romanji:"koke",portuguese:"musgo"},kuki:{glyphs:["ku","ki"],romanji:"kuki",portuguese:"caule"},mame:{glyphs:["ma","me"],romanji:"mame",portuguese:"feij\xe3o"},momi:{glyphs:["mo","mi"],romanji:"momi",portuguese:"arroz descascado"},nani:{glyphs:["na","ni"],romanji:"nani",portuguese:"o qu\xea"},nuno:{glyphs:["nu","no"],romanji:"nuno",portuguese:"pano"},sake:{glyphs:["sa","ke"],romanji:"sake",portuguese:"saqu\xea"},sashi:{glyphs:["sa","shi"],romanji:"sashi",portuguese:"espeto"},seki:{glyphs:["se","ki"],romanji:"seki",portuguese:"assento"},shika:{glyphs:["shi","ka"],romanji:"shika",portuguese:"cervo"},shiso:{glyphs:["shi","so"],romanji:"shiso",portuguese:"perila"},soko:{glyphs:["so","ko"],romanji:"soko",portuguese:"fundo"},sushi:{glyphs:["su","shi"],romanji:"sushi",portuguese:"sushi"},suso:{glyphs:["su","so"],romanji:"suso",portuguese:"bainha"},tate:{glyphs:["ta","te"],romanji:"tate",portuguese:"escudo"},tochi:{glyphs:["to","chi"],romanji:"tochi",portuguese:"castanha japonesa"},tsute:{glyphs:["tsu","te"],romanji:"tsute",portuguese:"meio"},yoru:{glyphs:["yo","ru"],romanji:"yoru",portuguese:"noite"},yuki:{glyphs:["yu","ki"],romanji:"yuki",portuguese:"neve"}};var j=a(3210),t=a(3664),g=a(2615),v=a(2122),_=a(2551),x=a(1554),P=a(2540);function O(n,o){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"div",9),t.bIt("click",function(){g.eBV(i);const s=t.XpG().$implicit,r=t.XpG(2);return g.Njj(r.play("lesson/"+s.romanji))}),t.k0s(),t.j41(2,"div",10)(3,"p")(4,"strong"),t.EFF(5,"Portugu\xeas:"),t.k0s(),t.nrm(6,"br"),t.EFF(7),t.k0s(),t.j41(8,"p")(9,"strong"),t.EFF(10,"Romanji:"),t.k0s(),t.nrm(11,"br"),t.EFF(12),t.k0s()(),t.bVm()}if(2&n){const i=t.XpG().$implicit;t.R7$(7),t.SpI(" ",i.portuguese),t.R7$(5),t.SpI(" ",i.romanji)}}function M(n,o){if(1&n&&(t.j41(0,"div",8),t.DNE(1,O,13,2,"ng-container",4),t.k0s()),2&n){const i=o.index,e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.etapaAtual-1==i)}}function C(n,o){if(1&n){const i=t.RV6();t.j41(0,"div",12),t.nI1(1,"async"),t.bIt("click",function(){const s=g.eBV(i).$implicit,r=t.XpG(3);return g.Njj(r.clicar(s))}),t.k0s()}if(2&n){const i=o.$implicit,e=t.XpG(3);t.Aen(t.ai1("background-image: url('assets/",t.bMT(1,10,e.type$),"/glyphs/",i,".png');")),t.AVh("success",e.selected.includes(i))("error",e.selectedError.includes(i)),t.Y8G("id",t.mNQ(i))}}function b(n,o){if(1&n&&(t.qex(0),t.DNE(1,C,2,12,"div",11),t.bVm()),2&n){const i=o.$implicit;t.R7$(),t.Y8G("ngForOf",i)}}function L(n,o){if(1&n&&(t.qex(0),t.DNE(1,M,2,1,"div",5),t.j41(2,"div",6),t.DNE(3,b,2,1,"ng-container",7),t.k0s(),t.bVm()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.randomLessons),t.R7$(2),t.Y8G("ngForOf",i.options)}}function F(n,o){1&n&&(t.qex(0),t.j41(1,"div",13)(2,"h1"),t.EFF(3,"Ometedou!"),t.k0s(),t.j41(4,"h1"),t.EFF(5,"\u304a\u3081\u3067\u3068\u3046"),t.k0s()(),t.bVm())}const G=[{path:"",component:(()=>{var n;class o{constructor(e,s,r,c){this.router=e,this.helpers=s,this.typeState=r,this.toastController=c,this.allLesson=y,this.opt=[],this.options=[],this.randomLessons=[],this.etapaAtual=1,this.letraAtual=0,this.etapasMaximas=5,this.gameOver=!1,this.selected=[],this.selectedError=[],this.type$=this.typeState.type$}ngOnInit(){this.carregarDoStorage(),this.recuperarGrupos(),this.trazerLicoes(this.options,this.allLesson);const e=Object.values(this.lessons);e.length<this.etapasMaximas&&(this.etapasMaximas=e.length),this.options.forEach(s=>{s.sort(()=>Math.random()-.5)}),this.randomLessons=this.getRandomLessons(this.lessons,5)}carregarDoStorage(){const e=localStorage.getItem("options");e&&(this.opt=JSON.parse(e))}recuperarGrupos(){this.options=this.opt.map(e=>j.S.find(s=>s[0]===e)).filter(e=>!!e)}trazerLicoes(e,s){const r=new Set(e.reduce((l,u)=>l.concat(u),[])),c={};for(const[l,u]of Object.entries(s))u.glyphs.every(A=>r.has(A))&&(c[l]=u);return this.lessons=c,c}clicar(e){this.helpers.play(e);const s=this.randomLessons[this.etapaAtual-1];s.glyphs[this.letraAtual]==e?(this.letraAtual++,this.selected.push(e),this.selectedError=[],s.glyphs.length<=this.letraAtual&&(this.etapaAtual++,this.letraAtual=0,this.selected=[],this.etapaAtual>=this.etapasMaximas&&this.finalizarJogo())):this.selected.indexOf(e)<0&&this.selectedError.push(e)}play(e){this.helpers.play(e)}irParaOutraPagina(){this.router.navigateByUrl("/tabs/home",{replaceUrl:!0})}getRandomLessons(e,s){const c=[...Object.values(e)];for(let l=c.length-1;l>0;l--){const u=Math.floor(Math.random()*(l+1));[c[l],c[u]]=[c[u],c[l]]}return c.slice(0,s)}finalizarJogo(){var e=this;return(0,f.A)(function*(){e.gameOver=!0,yield(yield e.toastController.create({message:'\n        <div class="toast-success">\n          <div class="text">\n            <div class="title">Bom trabalho! Voc\xea conseguiu!</div>\n            <div class="jp">\u3088\u304f\u3067\u304d\u307e\u3057\u305f! </div>\n            <div class="jp">\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059</div>\n          </div>\n        </div>\n      ',icon:"checkmark-circle",duration:5e3,position:"bottom",color:"success",cssClass:"success-toast"})).present()})()}static#t=n=()=>(this.\u0275fac=function(s){return new(s||o)(t.rXU(v.Ix),t.rXU(_.V),t.rXU(x.L),t.rXU(P.K_))},this.\u0275cmp=t.VBU({type:o,selectors:[["app-lesson"]],standalone:!1,decls:9,vars:4,consts:[[3,"translucent"],[3,"fullscreen"],[1,"container"],[1,"content"],[4,"ngIf"],["class","lesson",4,"ngFor","ngForOf"],[1,"glyphs"],[4,"ngFor","ngForOf"],[1,"lesson"],[1,"image",2,"background-image","url('assets/lessons/ie.jpg')",3,"click"],[1,"text"],["class","osu",3,"success","error","id","style","click",4,"ngFor","ngForOf"],[1,"osu",3,"click","id"],[1,"congratz",2,"background-image","url('assets/fuji.jpg')"]],template:function(s,r){1&s&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Li\xe7\xe3o"),t.k0s()()(),t.j41(4,"ion-content",1)(5,"div",2)(6,"div",3),t.DNE(7,L,4,2,"ng-container",4)(8,F,6,0,"ng-container",4),t.k0s()()()),2&s&&(t.Y8G("translucent",!0),t.R7$(4),t.Y8G("fullscreen",!0),t.R7$(3),t.Y8G("ngIf",r.etapaAtual<r.etapasMaximas),t.R7$(),t.Y8G("ngIf",r.etapaAtual==r.etapasMaximas))},dependencies:[h.Sq,h.bT,p.W9,p.eU,p.BC,p.ai,h.Jj],styles:['.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.content[_ngcontent-%COMP%]{width:calc(100% - 18px);max-width:fit-content;min-height:500px;margin:20px auto;padding:20px;border:1px solid #b0b0b0;border-radius:24px;text-align:center;box-sizing:border-box}.content[_ngcontent-%COMP%]   .lesson[_ngcontent-%COMP%]{display:inline-flex;margin-bottom:20px}.content[_ngcontent-%COMP%]   .lesson[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:50%;min-width:200px;height:200px;margin-right:15px;margin-left:10px;border-radius:15px;background-repeat:no-repeat;background-size:cover}.content[_ngcontent-%COMP%]   .lesson[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:40%;margin-top:10px;text-align:left}.content[_ngcontent-%COMP%]   .lesson[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{text-transform:capitalize}.content[_ngcontent-%COMP%]   .lesson[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:uppercase}.content[_ngcontent-%COMP%]   .lesson[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-transform:none}.content[_ngcontent-%COMP%]   .glyphs[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr)}.content[_ngcontent-%COMP%]   .congratz[_ngcontent-%COMP%]{display:block;background-position:center;background-size:contain;background-repeat:no-repeat;min-width:300px;min-height:500px;width:100%;padding-top:320px}.content[_ngcontent-%COMP%]   .congratz[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;font-family:Raleway,"sans-serif"}.osu[_ngcontent-%COMP%]{width:60px;height:60px;background-repeat:no-repeat;background-size:cover;background-position:50% 0%;border:4px grey solid;background-color:#fff;background-size:140%;border-radius:15px;margin-right:5px;margin-bottom:10px}@media screen and (min-width: 768px){.osu[_ngcontent-%COMP%]{width:80px;height:80px;margin-right:15px}}.osu.success[_ngcontent-%COMP%]{border:4px #2dd55b solid}.osu.error[_ngcontent-%COMP%]{border:4px #f24c58 solid}']}))}return n(),o})()}];let E=(()=>{var n;class o{static#t=n=()=>(this.\u0275fac=function(s){return new(s||o)},this.\u0275mod=t.$C({type:o}),this.\u0275inj=g.G2t({imports:[d.iI.forChild(G),d.iI]}))}return n(),o})(),$=(()=>{var n;class o{static#t=n=()=>(this.\u0275fac=function(s){return new(s||o)},this.\u0275mod=t.$C({type:o}),this.\u0275inj=g.G2t({imports:[h.MD,k.YN,p.bv,E]}))}return n(),o})()}}]);